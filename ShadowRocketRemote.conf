# Shadowrocket Configuration File
# Optimized for Performance and Ad-Blocking
# Updated: 2025-12-28

[General]
# DNS Settings: Using AdGuard DNS + Cloudflare + Google for speed and filtering
dns-server = 94.140.14.14, 1.1.1.1, 8.8.8.8, system
dns-fallback-system = false
dns-direct-system = false
dns-cache-system = true

# Network Optimizations
tcp-fast-open = true
bypass-system = true
disable-stun = true
ipv6 = false

# Connection Rules
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local, captive.apple.com
bypass-tun = 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16

[Rule]
# --- Section 1: Technical Rules ---
# Ensure GitHub remains accessible for updates
DOMAIN-SUFFIX,github.com,PROXY
DOMAIN-SUFFIX,githubusercontent.com,PROXY

# --- Section 2: Ad-Blocking & Privacy (REJECT) ---
# Aggressive Ad-Block list (ACL4SSR)
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Ads.list,REJECT
# Privacy, Analytics and Telemetry protection
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Privacy/Privacy_All.list,REJECT
# AdGuard DNS Filter for comprehensive blocking
RULE-SET,https://raw.githubusercontent.com/AdguardTeam/FiltersRegistry/master/filters/filter_15_DnsFilter/filter.txt,REJECT

# --- Section 3: Personal Whitelist (DIRECT) ---
# Personal bypass list (Apple services, Banking, RU-segment)
RULE-SET,https://raw.githubusercontent.com/EvgeniySHR/Auto-Update-files-for-config-Shadowrocket-RU-beta/refs/heads/main/direct.list,DIRECT

# --- Section 4: Geo-IP & Final Fallback ---
# Local Network and Russia-based IP addresses (Direct connection)
GEOIP,LAN,DIRECT
GEOIP,RU,DIRECT,no-resolve

# Global Fallback: All other traffic via Proxy (AI, Social Media, etc.)
FINAL,PROXY
